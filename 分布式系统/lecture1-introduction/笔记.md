# 分布式系统应用场景

1:并行运算

2:节点损坏

3:不同计算机之间的通讯问题

4:运行不受信任的代码

# 构建系统时的组件

RPC:远程过程调用，掩盖在不受信任的网络上通讯的现实

线程:结构化的并发方式(锁,分布式系统锁)

可拓展性，可拓展的提升速度，两台电脑能得到两倍算力

# 一个高可用性的系统需要

1:容错性

2:可恢复性:暂时的损坏，之后能重新运行(非易失性存储，用ssd，闪存，存放一些检查点，系统日志)。或进行复制，副本

3:一致性，比如KV服务器(可能因为副本，拷贝缓存，出现不同的KV)

比如第二个服务器没有得到相同的修改

强一致性，弱一致性

# MapReduce

1:在每个文件上并行运行map函数

map生成KV来进行输出，得到中间输出

2:Reduce:收集，将key相同的收集到一起，计算其value

由一个master服务器，将所有map任务发放各服务器

map会检测输入数据在哪个服务器中，以避免网络传输通讯

将行存储(有很多key)变为列存储(只有一个或少量key)，称为**洗牌**,是mapreduce中代价最大的一部分

